"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7812,9394,9281,2884,2681],{89635:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(23645),n=o.n(r)()((function(e){return e[1]}));n.push([e.id,".container[data-v-9a81aade]{align-items:center;display:flex;flex-direction:row;justify-content:center;margin:0 auto;width:50%}@keyframes rotate-9a81aade{0%{transform:rotateX(-37.5deg) rotateY(45deg)}50%{transform:rotateX(-37.5deg) rotateY(405deg)}to{transform:rotateX(-37.5deg) rotateY(405deg)}}.cube[data-v-9a81aade],.cube *[data-v-9a81aade]{height:101px;position:absolute;width:101px}.sides[data-v-9a81aade]{animation:rotate-9a81aade 3s ease infinite;animation-delay:.8s;transform:rotateX(-37.5deg) rotateY(45deg);transform-style:preserve-3d}.cube .sides *[data-v-9a81aade]{background-color:#1b64f150;border:1px solid #fff;box-sizing:border-box}.cube .sides .top[data-v-9a81aade]{animation:top-animation-9a81aade 3s ease infinite;animation-delay:0ms;animation-fill-mode:forwards;transform:rotateX(90deg) translateZ(100px);transform-origin:50% 50%}@keyframes top-animation-9a81aade{0%{opacity:1;transform:rotateX(90deg) translateZ(100px)}20%{opacity:1;transform:rotateX(90deg) translateZ(50px)}70%{opacity:1;transform:rotateX(90deg) translateZ(50px)}90%{opacity:1;transform:rotateX(90deg) translateZ(100px)}to{opacity:1;transform:rotateX(90deg) translateZ(100px)}}.cube .sides .bottom[data-v-9a81aade]{animation:bottom-animation-9a81aade 3s ease infinite;animation-delay:0ms;animation-fill-mode:forwards;transform:rotateX(-90deg) translateZ(100px);transform-origin:50% 50%}@keyframes bottom-animation-9a81aade{0%{opacity:1;transform:rotateX(-90deg) translateZ(100px)}20%{opacity:1;transform:rotateX(-90deg) translateZ(50px)}70%{opacity:1;transform:rotateX(-90deg) translateZ(50px)}90%{opacity:1;transform:rotateX(-90deg) translateZ(100px)}to{opacity:1;transform:rotateX(-90deg) translateZ(100px)}}.cube .sides .front[data-v-9a81aade]{animation:front-animation-9a81aade 3s ease infinite;animation-delay:.1s;animation-fill-mode:forwards;transform:rotateY(0deg) translateZ(100px);transform-origin:50% 50%}@keyframes front-animation-9a81aade{0%{opacity:1;transform:rotateY(0deg) translateZ(100px)}20%{opacity:1;transform:rotateY(0deg) translateZ(50px)}70%{opacity:1;transform:rotateY(0deg) translateZ(50px)}90%{opacity:1;transform:rotateY(0deg) translateZ(100px)}to{opacity:1;transform:rotateY(0deg) translateZ(100px)}}.cube .sides .back[data-v-9a81aade]{animation:back-animation-9a81aade 3s ease infinite;animation-delay:.1s;animation-fill-mode:forwards;transform:rotateY(-180deg) translateZ(100px);transform-origin:50% 50%}@keyframes back-animation-9a81aade{0%{opacity:1;transform:rotateY(-180deg) translateZ(100px)}20%{opacity:1;transform:rotateY(-180deg) translateZ(50px)}70%{opacity:1;transform:rotateY(-180deg) translateZ(50px)}90%{opacity:1;transform:rotateY(-180deg) translateZ(100px)}to{opacity:1;transform:rotateY(-180deg) translateZ(100px)}}.cube .sides .left[data-v-9a81aade]{animation:left-animation-9a81aade 3s ease infinite;animation-delay:.1s;animation-fill-mode:forwards;transform:rotateY(-90deg) translateZ(100px);transform-origin:50% 50%}@keyframes left-animation-9a81aade{0%{opacity:1;transform:rotateY(-90deg) translateZ(100px)}20%{opacity:1;transform:rotateY(-90deg) translateZ(50px)}70%{opacity:1;transform:rotateY(-90deg) translateZ(50px)}90%{opacity:1;transform:rotateY(-90deg) translateZ(100px)}to{opacity:1;transform:rotateY(-90deg) translateZ(100px)}}.cube .sides .right[data-v-9a81aade]{animation:right-animation-9a81aade 3s ease infinite;animation-delay:.1s;animation-fill-mode:forwards;transform:rotateY(90deg) translateZ(100px);transform-origin:50% 50%}@keyframes right-animation-9a81aade{0%{opacity:1;transform:rotateY(90deg) translateZ(100px)}20%{opacity:1;transform:rotateY(90deg) translateZ(50px)}70%{opacity:1;transform:rotateY(90deg) translateZ(50px)}90%{opacity:1;transform:rotateY(90deg) translateZ(100px)}to{opacity:1;transform:rotateY(90deg) translateZ(100px)}}",""]);const a=n},71917:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(23645),n=o.n(r)()((function(e){return e[1]}));n.push([e.id,'.device{background:#000;border:2px solid #525053;border-bottom-left-radius:200px 30px;border-bottom-right-radius:200px 30px;border-top-left-radius:200px 30px;border-top-right-radius:200px 30px;box-shadow:0 0 1.74px .26px rgba(0,0,0,.004),inset 0 0 0 3px rgba(0,0,0,.004);display:inline-block;padding:63px 15px 80px;position:relative;z-index:9}.device>.screen{background-image:url(/images/nexus-5-screen-bg.png);height:640px;width:360px}.device>.camera{height:12px;left:42px;width:12px}.device>.camera,.device>.speaker{background:#383838;background-image:-ms-linear-gradient(114deg,#848184 0,#0e0e0e 100%);border-radius:50%;box-shadow:.899px .438px 0 0 rgba(0,0,0,.29),inset 1px 0 0 0 hsla(0,0%,100%,.26);position:absolute;top:26px}.device>.speaker{height:16px;left:50%;width:16px}.device>.camera:after{background-color:#7d7f90;border-radius:50%;content:"";display:block;height:3px;left:3px;position:absolute;top:3px;width:3px;z-index:7}.device>.nav{background:#000;box-sizing:border-box;display:flex;height:48px;opacity:.6;padding:0 39px;width:100%}.device>.nav>div{border:2px solid #fff;height:16px;margin:16px 40px;width:16px}.device>.nav>.overview{border-radius:3px}.device>.nav>.home{border-radius:50%}.device>.nav>.back{background:#fff;border:none;height:17px;position:relative;width:2px}.device>.nav #back:before{top:-5px;transform:rotate(45deg);-webkit-transform:rotate(60deg)}.device>.nav #back:after,.device>.nav #back:before{background:#fff;content:"";display:block;height:18px;left:-7px;position:absolute;width:2px}.device>.nav #back:after{top:3px;transform:rotate(-60deg);-webkit-transform:rotate(-60deg)}.device>.powerbutton{background:#000;box-shadow:0 0 .87px .13px rgba(0,0,0,.58),inset 0 1px 0 0 hsla(0,0%,100%,.14);height:51px;left:390px;position:absolute;top:101px;width:5px;z-index:1}.device>.volumebutton{background:#000;height:110px;left:-6px;position:absolute;top:152px;width:6px;z-index:10}',""]);const a=n},55357:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(23645),n=o.n(r)()((function(e){return e[1]}));n.push([e.id,".ussd_input{background:transparent;border:none;border-bottom:2px solid #11d8b3!important;border-radius:0;box-shadow:none!important;padding:0;width:100%}",""]);const a=n},29394:(e,t,o)=>{o.r(t),o.d(t,{default:()=>g});var r=o(58222),n={key:0,class:"text-sm text-gray-500 mb-5"},a={class:"text-blue-500 font-bold"},s={key:0,name:"trigger",xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},i=[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"},null,-1)],l=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1);var d=o(87879),c=o(66222),u=o(75802),p=o(91098),m=o(55092);const f={components:{useForm:d.cI,DefaultInput:c.Z,DefaultModal:u.Z,PrimaryButton:m.Z},props:{screen:{type:Object,default:null}},data:function(){return{form:null,useVersionBuilder:(0,p.P)()}},computed:{action:function(){return this.screen?"Clone":"Create"}},methods:{resetForm:function(){this.form=(0,d.cI)(this.screen?(0,p.P)().getClonedScreen(this.screen):(0,p.P)().getBlankScreen())},createScreen:function(e){this.form.clearErrors();var t=this.useVersionBuilder.searchScreens(this.form.name,!0).length;if(0==this.form.name.length)this.form.setError("name","The screen name is required");else if(this.form.name.length<3)this.form.setError("name","The screen name is too short");else if(this.form.name.length>50)this.form.setError("name","The screen name is too long");else if(t>0)this.form.setError("name","This screen name is already in use");else{var o=this.form.data();this.useVersionBuilder.addScreen(o),this.useVersionBuilder.selectScreen(o),this.$message({message:"Screen "+(this.screen?"cloned":"created")+" successfully",type:"success"}),e()}},cancelCreateScreen:function(){this.form.clearErrors()}}};const g=(0,o(83744).Z)(f,[["render",function(e,t,o,d,c,u){var p=(0,r.resolveComponent)("DefaultInput"),m=(0,r.resolveComponent)("PrimaryButton"),f=(0,r.resolveComponent)("DefaultModal");return(0,r.openBlock)(),(0,r.createBlock)(f,{defaultText:"Cancel",onOpen:t[1]||(t[1]=function(e){return u.resetForm()}),onClose:t[2]||(t[2]=function(t){return e.$emit("close")}),primaryAction:u.createScreen,primaryText:u.action+" Screen",defaultAction:u.cancelCreateScreen},{title:(0,r.withCtx)((function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(u.action+" Screen"),1)]})),default:(0,r.withCtx)((function(e){var s=e.firePrimaryAction;return[o.screen?((0,r.openBlock)(),(0,r.createElementBlock)("p",n,[(0,r.createTextVNode)("Cloning "),(0,r.createElementVNode)("span",a,(0,r.toDisplayString)(o.screen.name),1),(0,r.createTextVNode)(" screen")])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(p,{modelValue:c.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.form.name=e}),label:"Name",placeholder:"Home",error:c.form.errors.name,onKeyup:(0,r.withKeys)(s,["enter"]),autofocus:!0},null,8,["modelValue","error","onKeyup"])]})),trigger:(0,r.withCtx)((function(){return[o.screen?((0,r.openBlock)(),(0,r.createElementBlock)("svg",s,i)):((0,r.openBlock)(),(0,r.createBlock)(m,{key:1,name:"trigger",class:"px-3"},{default:(0,r.withCtx)((function(){return[l,(0,r.renderSlot)(e.$slots,"default")]})),_:3}))]})),_:3},8,["primaryAction","primaryText","defaultAction"])}]])},39281:(e,t,o)=>{o.r(t),o.d(t,{default:()=>E});var r=o(58222),n={class:"mt-4"},a={class:"flex items-center justify-between bg-white rounded-sm border-x border-t border-dashed border-gray-400 p-5"},s={class:"flex"},i=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mr-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1),l={class:"text-gray-800 text-md mb-1"},d={class:"text-gray-600 text-xs"},c={class:"flex items-center justify-end"},u=(0,r.createElementVNode)("span",{class:"ml-2"},"Create Screen",-1),p={class:"border border-dashed border-gray-400 p-5 rounded-b-md"},m={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-80 w-80 text-blue-100 m-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},f=[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)];var g=o(11879),h=o(91098),v={class:"container"},y=[(0,r.createStaticVNode)('<div class="cube" data-v-9a81aade><div class="sides" data-v-9a81aade><div class="top" data-v-9a81aade></div><div class="right" data-v-9a81aade></div><div class="bottom" data-v-9a81aade></div><div class="left" data-v-9a81aade></div><div class="front" data-v-9a81aade></div><div class="back" data-v-9a81aade></div></div></div>',1)];const x={props:{show:{type:Boolean,default:!0},withTransition:{type:Boolean,default:!0}}};var b=o(93379),k=o.n(b),w=o(89635),V={insert:"head",singleton:!1};k()(w.Z,V);w.Z.locals;var B=o(83744);const N=(0,B.Z)(x,[["render",function(e,t,o,n,a,s){return(0,r.openBlock)(),(0,r.createElementBlock)("div",v,y)}],["__scopeId","data-v-9a81aade"]]);var S=o(29394);const C={props:["screens"],components:{Loader:g.Z,CubeLoader:N,CreateScreenModal:S.default},data:function(){return{useVersionBuilder:(0,h.P)()}}},E=(0,B.Z)(C,[["render",function(e,t,o,g,h,v){var y=(0,r.resolveComponent)("CreateScreenModal"),x=(0,r.resolveComponent)("Loader"),b=(0,r.resolveComponent)("CubeLoader");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",s,[i,(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("p",l,[0==h.useVersionBuilder.hasDownloadedBuilder?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createTextVNode)("Downloading")],64)):0==h.useVersionBuilder.hasSavedBuilder?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)("Saving")],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createTextVNode)("No screens")],64))]),(0,r.createElementVNode)("p",d,[0==h.useVersionBuilder.hasDownloadedBuilder?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createTextVNode)("The application builder is still downloading")],64)):0==h.useVersionBuilder.hasSavedBuilder?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)("The application builder is still saving")],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createTextVNode)("Go ahead and create your first screen")],64))])])]),(0,r.createElementVNode)("div",c,[h.useVersionBuilder.hasDownloadedBuilder&&h.useVersionBuilder.hasSavedBuilder?((0,r.openBlock)(),(0,r.createBlock)(y,{key:0},{default:(0,r.withCtx)((function(){return[u]})),_:1})):((0,r.openBlock)(),(0,r.createBlock)(x,{key:1}))])]),(0,r.createElementVNode)("div",p,[h.useVersionBuilder.hasDownloadedBuilder&&h.useVersionBuilder.hasSavedBuilder?((0,r.openBlock)(),(0,r.createElementBlock)("svg",m,f)):((0,r.openBlock)(),(0,r.createBlock)(b,{key:1,class:"py-40"}))])])}]])},72884:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var r=o(58222),n={class:"text-sm font-semibold tracking-tight text-gray-600 mb-4"},a={class:"flex items-center justify-between mt-2"},s={class:"text-xs"},i={class:"text-xs text-gray-400 mr-2"},l={class:"relative space-y-4 text-xs"},d={key:0,class:"relative z-10 bg-sky-50",style:{width:"20px",height:"20px",margin:"0 0 -3px -5px"}},c={key:1,class:"flex relative right-4 z-10 rounded-r-md border border-l-0 border-blue-400 bg-blue-100 py-1 pl-3 pr-2 mb-4"},u=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-none text-blue-500 h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),p={class:"text-blue-500 font-semibold"},m={key:2,class:"flex relative z-10 rounded-r-md border border-emerald-400 bg-emerald-100 py-1 px-2 mb-4 ml-1"},f=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-none text-emerald-500 h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),g={class:"text-emerald-500 font-semibold"},h={class:"flex relative z-10 items-center"},v=["innerHTML"],y=["innerHTML"],x=["innerHTML"],b=(0,r.createElementVNode)("div",{class:"absolute z-0 top-0 bottom-0 border-l border-blue-400",style:{left:"4px"}},null,-1),k={key:0,class:"p-4 rounded-md border border-dashed border-gray-300"},w={key:1},V={key:0,class:"text-justify"},B={key:1,class:"text-justify"},N={key:2},S=(0,r.createElementVNode)("span",{class:"text-justify"}," Logs are currently disabled ",-1);var C=o(51795),E=o(90770),L=o(91098);const Z={props:{logs:{type:Array,default:function(){return[]}},origin:{type:String,default:"session",validator:function(e){return["simulator","session"].includes(e)}},showLogs:{type:Boolean,default:!0}},components:{NumberBadge:C.Z,PrimaryAlert:E.Z},data:function(){return{renderkey:1,screenNames:[],displayNames:[],useVersionBuilder:(0,L.P)(),selectedLogs:["info","warning","error"]}},screenInfoListed:[],displayInfoListed:[],watch:{logs:function(e,t){var o=this;this.$nextTick((function(){o.$options.screenInfoListed=[],o.$options.displayInfoListed=[],o.screenNames=o.getScreenNames(),o.displayNames=o.getDisplayNames()})),++this.renderkey}},computed:{totalLogs:function(){return this.logs.length},filteredLogs:function(){var e=this;return this.totalLogs?this.logs.filter((function(t){return e.selectedLogs.includes(t.type)||e.selectedLogs.includes("screen-"+t.screen)||e.selectedLogs.includes("display-"+t.display)})):[]},totalFilteredLogs:function(){return this.filteredLogs.length},availableLogs:function(){var e=this;return[{label:"Status",options:[{label:"Info",value:"info",count:this.logs.filter((function(e){return"info"==e.type})).length},{label:"Warnings",value:"warning",count:this.logs.filter((function(e){return"warning"==e.type})).length},{label:"Errors",value:"error",count:this.logs.filter((function(e){return"error"==e.type})).length}]},{label:"Screens",options:this.screenNames.map((function(t){return{label:t,value:"screen-"+t,count:e.logs.filter((function(e){return e.screen==t})).length}}))},{label:"Displays",options:this.displayNames.map((function(t){return{label:t,value:"display-"+t,count:e.logs.filter((function(e){return e.display==t})).length}}))}]}},methods:{getScreenNames:function(){if(this.logs){var e=this.logs.filter((function(e){return null!==e.screen})).map((function(e){return e.screen}));return _.uniqBy(e)}return[]},getDisplayNames:function(){if(this.logs){var e=this.logs.filter((function(e){return null!==e.display})).map((function(e){return e.display}));return _.uniqBy(e)}return[]},canShowScreenInfo:function(e){return null!==e.screen&&!this.$options.screenInfoListed.includes(e.screen)&&(this.$options.screenInfoListed.push(e.screen),!0)},canShowDisplayInfo:function(e){return null!==e.display&&!this.$options.displayInfoListed.includes(e.display)&&(this.$options.displayInfoListed.push(e.display),!0)},getLogClasses:function(e){return"info"===e.type?"bg-blue-100 border-blue-400":"warning"===e.type?"bg-yellow-100 border-yellow-500":"error"===e.type?"animate-bounce bg-red-100 border-red-500":void 0}},created:function(){this.screenNames=this.getScreenNames(),this.displayNames=this.getDisplayNames()}};const T=(0,o(83744).Z)(Z,[["render",function(e,t,o,C,E,L){var Z=(0,r.resolveComponent)("NumberBadge"),_=(0,r.resolveComponent)("el-option"),T=(0,r.resolveComponent)("el-option-group"),D=(0,r.resolveComponent)("el-select"),P=(0,r.resolveComponent)("PrimaryAlert");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("h5",n,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)("simulator"==o.origin?"Simulator Logs":"Session Logs"),1),L.totalLogs?((0,r.openBlock)(),(0,r.createBlock)(Z,{key:0,count:L.totalFilteredLogs,active:!1,class:"ml-2"},null,8,["count"])):(0,r.createCommentVNode)("",!0)]),1==o.showLogs&&L.totalLogs?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createVNode)(D,{modelValue:E.selectedLogs,"onUpdate:modelValue":t[0]||(t[0]=function(e){return E.selectedLogs=e}),multiple:"",placeholder:"Select log types",class:"w-full border rounded mb-4"},{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(L.availableLogs,(function(e){return(0,r.openBlock)(),(0,r.createBlock)(T,{key:e.label,label:e.label},{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.options,(function(e){return(0,r.openBlock)(),(0,r.createBlock)(_,{key:e.value,label:e.label+" ("+e.count+")",value:e.value},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("span",s,(0,r.toDisplayString)(e.label),1),(0,r.createElementVNode)("span",i,(0,r.toDisplayString)(0==e.count?"":"("+e.count+")"),1)])]})),_:2},1032,["label","value"])})),128))]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue"]),(0,r.createVNode)(r.Transition,{name:"fade",mode:"out-in",appear:""},{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:E.renderkey,class:"bg-sky-50 rounded-md p-4 overflow-y-auto border",style:{height:"30em"}},[(0,r.createElementVNode)("div",l,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(L.filteredLogs,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t},[0==t?((0,r.openBlock)(),(0,r.createElementBlock)("div",d)):(0,r.createCommentVNode)("",!0),L.canShowScreenInfo(e)?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[u,(0,r.createElementVNode)("span",p,(0,r.toDisplayString)(e.screen),1)])):(0,r.createCommentVNode)("",!0),L.canShowDisplayInfo(e)?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[f,(0,r.createElementVNode)("span",g,(0,r.toDisplayString)(e.display),1)])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["rounded-full mr-2 border flex-none",L.getLogClasses(e)]),style:{width:"10px",height:"10px"}},null,2),"info"==e.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,innerHTML:e.description,class:"text-xs text-gray-500"},null,8,v)):"error"==e.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,innerHTML:e.description,class:"text-xs text-red-400"},null,8,y)):"warning"==e.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:2,innerHTML:e.description,class:"text-xs text-yellow-400"},null,8,x)):(0,r.createCommentVNode)("",!0)]),b])})),128)),0==L.filteredLogs.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",k,"No Logs Found")):(0,r.createCommentVNode)("",!0)])]))]})),_:1})],64)):(0,r.createCommentVNode)("",!0),1==o.showLogs&&0==L.totalLogs?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,[(0,r.createVNode)(P,null,{default:(0,r.withCtx)((function(){return["simulator"==o.origin?((0,r.openBlock)(),(0,r.createElementBlock)("span",V," Launch the Simulator to see the applicaiton logs in realtime ")):(0,r.createCommentVNode)("",!0),"session"==o.origin?((0,r.openBlock)(),(0,r.createElementBlock)("span",B," This session does not have logs to show ")):(0,r.createCommentVNode)("",!0)]})),_:1})])):(0,r.createCommentVNode)("",!0),"simulator"==o.origin&&0==o.showLogs?((0,r.openBlock)(),(0,r.createElementBlock)("div",N,[(0,r.createVNode)(P,null,{default:(0,r.withCtx)((function(){return[S]})),_:1})])):(0,r.createCommentVNode)("",!0)])}]])},2681:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var r=o(58222),n={class:"absolute top-20 right-5 left-5"},a={class:"bg-white/90 shadow-sm hover:shadow-md rounded-sm p-4 mb-2"},s={class:"text-sm font-semibold tracking-tight text-gray-900"},i={class:"text-blue-500 mr-1"},l={class:"text-xs"},d={class:"bg-white/90 shadow-sm hover:shadow-md rounded-sm p-4 mb-2"},c={class:"flex justify-between mb-4"},u=(0,r.createElementVNode)("span",{class:"block text-sm font-medium text-gray-900"},"Dialer",-1),p={class:"flex text-gray-900"},m=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1),f={class:"block text-sm font-medium"},g={class:"bg-white/90 shadow-sm hover:shadow-md rounded-sm p-4"},h={class:"text-sm font-semibold tracking-tight text-gray-600 text-justify"},v={class:"text-blue-500"},y={class:"flex justify-center pt-4 mt-4 border-t border-dashed border-gray-300"},x={class:"absolute top-40 right-5 left-5"},b={class:"bg-white/90 shadow-sm hover:shadow-md rounded-sm p-4 relative"},k=(0,r.createElementVNode)("span",{class:"text-gray-600 ml-2"},"Loading...",-1),w={key:1},V=["innerHTML"],B=["disabled"],N={class:"w-3/4 m-auto flex justify-between mt-4"},S=(0,r.createElementVNode)("span",null,"|",-1),C={class:"flex justify-end mt-4 border-gray-300"};var E=o(6154),L=o(11879),Z=o(66222),_=o(91098),T=o(12551),D=o(55092);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function U(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?U(Object(o),!0).forEach((function(t){M(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function M(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const I={components:M({DefaultInput:Z.Z,DangerButton:T.Z,PrimaryButton:D.Z,Loader:L.Z},"Loader",L.Z),data:function(){return{project:this.$page.props.projectPayload,version:this.$page.props.versionPayload,useVersionBuilder:(0,_.P)(),app:this.$page.props.appPayload,showingUssdPopup:!1,last_session_id:null,ussdResponseMsg:"",initialReplies:"",loading:!1,request:null,form:null}},computed:{shortCode:function(){return this.app.short_code||{}},sharedShortCode:function(){return this.shortCode.shared_code},dedicatedShortCode:function(){return this.shortCode.dedicated_code},primaryShortCode:function(){return this.dedicatedShortCode||this.sharedShortCode},modifiedServiceCode:function(){function e(e,t,o){return""}var t=/[^0-9a-zA-Z\s*]|^[*]+|[*]+$/g,o=this.initialReplies.replace(t,e);t=/[*]{2,}/g;return(o=o.replace(t,e))?this.primaryShortCode.substring(0,this.primaryShortCode.length-1)+"*"+o+"#":this.primaryShortCode}},methods:{startUssdServiceSimulator:function(){0==this.loading&&(this.resetUssdSimulator(),this.startApiSimulationRequest(),this.showUssdPopup())},stopUssdSimulator:function(){this.stopApiSimulationRequest(),this.resetUssdSimulator(),this.cancelUssdCall(),this.hideUssdPopup()},resetUssdSimulator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=j(j({},this.defaultForm()),e)},cancelUssdCall:function(){this.request&&this.request.cancel("Session cancelled"),this.loading=!1},defaultForm:function(){return{msg:null,request_type:1,session_id:null,service_code:null,test_mode:!0,app_id:this.app.id,version_id:this.version.id,msisdn:this.useVersionBuilder.builder.simulator.subscriber.phone_number}},startLastUssdCall:function(){var e=this.form.session_id;this.resetUssdSimulator({session_id:e,request_type:2}),this.startApiSimulationRequest()},startApiSimulationRequest:function(){var e=this,t=this;1==this.form.request_type&&(this.form.msg=this.modifiedServiceCode),this.loading=!0;var o=E.Z.CancelToken.source(),r=route("launch.ussd.simulation");this.request={cancel:o.cancel},E.Z.post(r,this.form,{cancelToken:o.token}).then((function(e){var o,r=1==t.form.request_type,n=e.data;(t.last_session_id=n.session_id,t.ussdResponseMsg=n.msg,t.form.session_id=n.session_id,t.form.request_type=n.request_type,t.form.service_code=n.service_code,t.$emit("response",n),2==t.form.request_type?(t.emptyInput(),t.focusOnInput(),r&&t.$message({message:"Simulation started successfully",type:"success"})):3==t.form.request_type?(t.resetUssdSimulator(),t.emptyInput(),t.$message({message:"Session ended",type:"warning"})):4==t.form.request_type?(t.emptyInput(),t.$message({message:"Session Timed out",type:"warning"})):5==t.form.request_type&&t.redirectUssdSimulator(n.msg),200===e.status)||(t.resetUssdSimulator(),t.hideUssdPopup(),t.$message({message:null!==(o=(e||{}).message)&&void 0!==o?o:"Sorry, something went wrong",type:"warning"}))})).catch((function(o){var r;e.resetUssdSimulator(),e.hideUssdPopup();var n=null!==(r=(o||{}).message)&&void 0!==r?r:"Sorry, something went wrong";419===o.response.status&&(n="Please login",e.$inertia.get(route("login.show"))),t.$message({message:n,type:"warning"})})).finally((function(){e.request=null,e.loading=!1}))},stopApiSimulationRequest:function(){var e=this,t=route("stop.ussd.simulation",{session_id:this.last_session_id});E.Z.post(t).then((function(e){})).catch((function(t){var o,r=null!==(o=(t||{}).message)&&void 0!==o?o:"Sorry, something went wrong";419===t.response.status&&(r="Please login",e.$inertia.get(route("login.show"))),self.$message({message:r,type:"warning"})}))},redirectUssdSimulator:function(e){this.resetUssdSimulator(),this.focusOnInput(),this.form.serviceCode=e,this.startApiSimulationRequest()},showUssdPopup:function(){this.showingUssdPopup=!0,this.focusOnInput()},hideUssdPopup:function(){this.showingUssdPopup=!1},focusOnInput:function(){var e=this;setTimeout((function(){e.$refs.ussd_input&&e.$refs.ussd_input.focus()}),100)},emptyInput:function(){this.form.msg=null}},created:function(){this.form=this.defaultForm()},beforeUnmount:function(){this.form.session_id&&this.stopApiSimulationRequest()}};var Y=o(93379),q=o.n(Y),$=o(55357),z={insert:"head",singleton:!1};q()($.Z,z);$.Z.locals;const O=(0,o(83744).Z)(I,[["render",function(e,t,o,E,L,Z){var _=(0,r.resolveComponent)("DefaultInput"),T=(0,r.resolveComponent)("PrimaryButton"),D=(0,r.resolveComponent)("Loader"),P=(0,r.resolveComponent)("DangerButton");return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["h-full relative",{"bg-black/50":L.showingUssdPopup}])},[(0,r.createVNode)(r.Transition,{name:"fade"},{default:(0,r.withCtx)((function(){return[(0,r.withDirectives)((0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("span",s,[(0,r.createElementVNode)("span",i,(0,r.toDisplayString)(L.app.name),1),(0,r.createElementVNode)("span",l," — Version "+(0,r.toDisplayString)(L.version.number),1)])]),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",c,[u,(0,r.createElementVNode)("div",p,[m,(0,r.createElementVNode)("span",f,(0,r.toDisplayString)(L.form.msisdn),1)])]),(0,r.createVNode)(_,{modelValue:L.initialReplies,"onUpdate:modelValue":t[0]||(t[0]=function(e){return L.initialReplies=e}),placeholder:"*1*2*3",prependClasses:["bg-blue-50 text-blue-500"],appendClasses:["bg-blue-50 text-blue-500"]},{append:(0,r.withCtx)((function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(Z.primaryShortCode.substring(0,Z.primaryShortCode.length-1))+"* ",1)]})),prepend:(0,r.withCtx)((function(){return[(0,r.createTextVNode)(" # ")]})),_:1},8,["modelValue"])]),(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("span",h,[(0,r.createElementVNode)("span",null,[(0,r.createTextVNode)("Dial "),(0,r.createElementVNode)("span",v,(0,r.toDisplayString)(Z.modifiedServiceCode),1),(0,r.createTextVNode)(" on your mobile device or "),(0,r.createElementVNode)("span",{class:"text-blue-500 hover:text-blue-600 active:text-blue-700 underline cursor-pointer",onClick:t[1]||(t[1]=function(){return Z.startUssdServiceSimulator&&Z.startUssdServiceSimulator.apply(Z,arguments)})},"Launch Simulator"),(0,r.createTextVNode)(" to experience your application.")])]),(0,r.createElementVNode)("div",y,[(0,r.createVNode)(T,{onClick:t[2]||(t[2]=function(e){return Z.startUssdServiceSimulator()})},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Launch Simulator")]})),_:1})])])],512),[[r.vShow,!L.showingUssdPopup]])]})),_:1}),(0,r.createVNode)(r.Transition,{name:"fade"},{default:(0,r.withCtx)((function(){return[(0,r.withDirectives)((0,r.createElementVNode)("div",x,[(0,r.createElementVNode)("div",b,[L.loading?((0,r.openBlock)(),(0,r.createBlock)(D,{key:0,withTransition:!1},{default:(0,r.withCtx)((function(){return[k]})),_:1})):((0,r.openBlock)(),(0,r.createElementBlock)("div",w,[(0,r.createElementVNode)("p",{class:"text-gray-600 whitespace-pre-wrap mb-4",innerHTML:L.ussdResponseMsg},null,8,V),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return L.form.msg=e}),disabled:L.loading,ref:"ussd_input",class:"ussd_input",onKeypress:t[4]||(t[4]=(0,r.withKeys)((function(e){return Z.startApiSimulationRequest()}),["enter"])),onKeyup:t[5]||(t[5]=(0,r.withKeys)((function(e){return Z.stopUssdSimulator()}),["esc"]))},null,40,B),[[r.vModelText,L.form.msg]]),(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("button",{class:"text-gray-600 hover:text-red-500 active:text-red-600 cursor-pointer",onClick:t[6]||(t[6]=function(e){return Z.stopUssdSimulator()})},"Cancel"),S,(0,r.createElementVNode)("button",{class:"text-gray-600 hover:text-blue-500 active:text-blue-600 cursor-pointer",onClick:t[7]||(t[7]=function(e){return Z.startApiSimulationRequest()})},"Send")])]))]),(0,r.createElementVNode)("div",C,[(0,r.withDirectives)((0,r.createVNode)(T,{onClick:t[8]||(t[8]=function(e){return Z.startUssdServiceSimulator()}),class:"mr-2"},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Restart")]})),_:1},512),[[r.vShow,!L.loading]]),(0,r.withDirectives)((0,r.createVNode)(T,{onClick:t[9]||(t[9]=function(e){return Z.startLastUssdCall()})},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Re-run")]})),_:1},512),[[r.vShow,!L.loading]]),(0,r.withDirectives)((0,r.createVNode)(P,{onClick:t[10]||(t[10]=function(e){return Z.stopUssdSimulator()})},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Stop")]})),_:1},512),[[r.vShow,L.loading]])])],512),[[r.vShow,L.showingUssdPopup]])]})),_:1})],2)}]])},7812:(e,t,o)=>{o.r(t),o.d(t,{default:()=>B});var r=o(58222),n={key:1,class:"grid grid-cols-3"},a={class:"grid-span-1 py-8 px-4"},s={class:"grid-span-1"},i={class:"flex justify-center pt-8"},l=(0,r.createElementVNode)("div",{class:"grid-span-1"},null,-1);var d=o(72884),c=o(2681),u={class:"device"},p={class:"screen"},m=(0,r.createStaticVNode)('<div class="speaker"></div><div class="camera"></div><div class="powerbutton"></div><div class="volumebutton"></div><div class="nav"><div class="back" id="back"></div><div class="home"></div><div class="overview"></div></div>',5);const f={};var g=o(93379),h=o.n(g),v=o(71917),y={insert:"head",singleton:!1};h()(v.Z,y);v.Z.locals;var x=o(83744);const b=(0,x.Z)(f,[["render",function(e,t,o,n,a,s){return(0,r.openBlock)(),(0,r.createElementBlock)("div",u,[(0,r.createElementVNode)("div",p,[(0,r.renderSlot)(e.$slots,"default")]),m])}]]);var k=o(39281),w=o(91098);const V={components:{SimulatorLogs:d.default,MobileScreen:c.default,Nexus5:b,NoScreens:k.default},data:function(){return{useVersionBuilder:(0,w.P)(),response:null}}},B=(0,x.Z)(V,[["render",function(e,t,o,d,c,u){var p=(0,r.resolveComponent)("NoScreens"),m=(0,r.resolveComponent)("SimulatorLogs"),f=(0,r.resolveComponent)("MobileScreen"),g=(0,r.resolveComponent)("Nexus5");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[0==c.useVersionBuilder.hasDownloadedBuilder||0==c.useVersionBuilder.hasSavedBuilder?((0,r.openBlock)(),(0,r.createBlock)(p,{key:0,class:"p-8"})):((0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createVNode)(m,{logs:(c.response||{}).logs,showLogs:c.useVersionBuilder.builder.simulator.debugger.return_logs,origin:"simulator"},null,8,["logs","showLogs"])]),(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",i,[(0,r.createVNode)(g,{class:"scale-75 origin-top"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{onResponse:t[0]||(t[0]=function(e){return c.response=e})})]})),_:1})])]),l]))])}]])}}]);