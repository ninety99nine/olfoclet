"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9542,3350],{85347:(e,o,r)=>{r.d(o,{Z:()=>p});var t=r(58222),a={class:"flex items-center"},n=["id","disabled"],l=["for"],d={key:1,class:"text-xs text-gray-400 ml-2"};var s=r(96486),i=r(11868),c=r(24788);const m={components:{InfoPopover:i.Z,DefaultError:c.Z},props:{modelValue:Boolean,label:String,info:String,note:String,size:{type:String,default:"xs"},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},data:function(){return{uniqueId:(0,s.uniqueId)("input-"),localModelValue:this.modelValue}},watch:{modelValue:function(e,o){this.localModelValue=e},localModelValue:function(e,o){this.$emit("update:modelValue",e),this.$emit("onChange",e)}}};const p=(0,r(83744).Z)(m,[["render",function(e,o,r,s,i,c){var m=(0,t.resolveComponent)("InfoPopover"),p=(0,t.resolveComponent)("DefaultError");return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[(0,t.createElementVNode)("div",a,[(0,t.withDirectives)((0,t.createElementVNode)("input",{id:i.uniqueId,type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=function(e){return i.localModelValue=e}),disabled:r.disabled,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,8,n),[[t.vModelCheckbox,i.localModelValue]]),r.label?((0,t.openBlock)(),(0,t.createElementBlock)("label",{key:0,for:i.uniqueId,class:(0,t.normalizeClass)("text-"+r.size+" font-medium text-gray-900 ml-2")},(0,t.toDisplayString)(r.label),11,l)):(0,t.createCommentVNode)("",!0),r.note?((0,t.openBlock)(),(0,t.createElementBlock)("span",d," — "+(0,t.toDisplayString)(r.note),1)):(0,t.createCommentVNode)("",!0),r.info?((0,t.openBlock)(),(0,t.createBlock)(m,{key:2,info:r.info,class:"ml-2"},null,8,["info"])):e.$slots.info?((0,t.openBlock)(),(0,t.createBlock)(m,{key:3,class:"ml-2"},{default:(0,t.withCtx)((function(){return[(0,t.renderSlot)(e.$slots,"info")]})),_:3})):(0,t.createCommentVNode)("",!0)]),(0,t.createVNode)(p,{error:r.error,class:"mt-2"},null,8,["error"])])}]])},3350:(e,o,r)=>{r.r(o),r.d(o,{default:()=>C});var t=r(58222),a={key:0,class:"text-sm text-gray-500 mb-5"},n={class:"text-gray-800 font-bold"},l={key:1,class:"text-sm text-gray-500 mb-5"},d={class:"text-gray-800 font-bold"},s={key:2,class:"text-sm text-gray-500 mb-5"},i={class:"text-gray-800 font-bold"},c={class:"text-xs text-gray-400 ml-2"},m={class:"flex items-center justify-between mb-6"};var p=r(66222),u=r(98537),f=r(53233),h=r(71362),b=r(85347),y=r(34223);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}const v={components:(V={DefaultInput:p.Z,PrimaryBadge:u.Z,DefaultSelect:f.Z,DefaultSwitch:h.Z,DefaultCheckbox:b.Z,DefaultTextArea:y.Z},_="PrimaryBadge",k=u.Z,(_=function(e){var o=function(e,o){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,o||"default");if("object"!==g(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"===g(o)?o:String(o)}(_))in V?Object.defineProperty(V,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):V[_]=k,V),props:{form:Object,mode:String,app:{type:Object,default:null}},computed:{sharedShortCodeOptions:function(){return this.$page.props.sharedShortCodesPayload.map((function(e){return{label:e.code,value:e.id}}))},versionOptions:function(){return((this.app||{}).versions?this.app.versions:this.$page.props.versionsPayload).map((function(e){return{label:e.number,value:e.id}}))}}};var V,_,k;const C=(0,r(83744).Z)(v,[["render",function(e,o,r,p,u,f){var h=(0,t.resolveComponent)("DefaultInput"),b=(0,t.resolveComponent)("DefaultTextArea"),y=(0,t.resolveComponent)("DefaultSwitch"),g=(0,t.resolveComponent)("DefaultSelect"),v=(0,t.resolveComponent)("PrimaryBadge"),V=(0,t.resolveComponent)("DefaultCheckbox");return(0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,["Delete"==r.mode||"Restore"==r.mode?((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,{key:0},["Delete"!=r.mode||r.form.deleted_at?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createElementBlock)("p",a,[(0,t.createTextVNode)("This app will be trashed for 30 days before it's permanently deleted. Please be certain. Enter the confirmation code "),(0,t.createElementVNode)("span",n,(0,t.toDisplayString)(r.app.confirmation_code),1),(0,t.createTextVNode)(" to confirm this action.")])),"Delete"==r.mode&&r.form.deleted_at?((0,t.openBlock)(),(0,t.createElementBlock)("p",l,[(0,t.createTextVNode)("Once you delete this app, there is no going back. Please be certain. Enter the confirmation code "),(0,t.createElementVNode)("span",d,(0,t.toDisplayString)(r.app.confirmation_code),1),(0,t.createTextVNode)(" to confirm this action.")])):(0,t.createCommentVNode)("",!0),"Restore"==r.mode?((0,t.openBlock)(),(0,t.createElementBlock)("p",s,[(0,t.createTextVNode)("Enter the confirmation code "),(0,t.createElementVNode)("span",i,(0,t.toDisplayString)(r.app.confirmation_code),1),(0,t.createTextVNode)(" to confirm this action.")])):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(h,{modelValue:r.form.confirmation_code,"onUpdate:modelValue":o[0]||(o[0]=function(e){return r.form.confirmation_code=e}),label:"Confirmation code",placeholder:"Enter the confirmation code",disabled:r.form.processing||r.form.processing,error:r.form.errors.confirmation_code,class:"mb-6"},null,8,["modelValue","disabled","error"])],64)):((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,{key:1},[(0,t.createVNode)(h,{modelValue:r.form.name,"onUpdate:modelValue":o[1]||(o[1]=function(e){return r.form.name=e}),label:"Name",placeholder:"My App",disabled:r.form.processing,error:r.form.errors.name,class:"mb-6"},null,8,["modelValue","disabled","error"]),(0,t.createVNode)(b,{modelValue:r.form.description,"onUpdate:modelValue":o[2]||(o[2]=function(e){return r.form.description=e}),label:"Description",placeholder:"This is a budget app",disabled:r.form.processing,error:r.form.errors.description,class:"mb-6"},null,8,["modelValue","disabled","error"]),(0,t.createVNode)(y,{modelValue:r.form.online,"onUpdate:modelValue":o[3]||(o[3]=function(e){return r.form.online=e}),label:"Online",disabled:r.form.processing,error:r.form.errors.online,class:"mb-6"},{default:(0,t.withCtx)((function(){return[(0,t.createElementVNode)("span",c," — Your app is "+(0,t.toDisplayString)(r.form.online?"online":"offline"),1)]})),_:1},8,["modelValue","disabled","error"]),r.form.online?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createBlock)(b,{key:0,modelValue:r.form.offline_message,"onUpdate:modelValue":o[4]||(o[4]=function(e){return r.form.offline_message=e}),label:"Offline Message",placeholder:"This service is currently not available",disabled:r.form.processing,error:r.form.errors.offline_message,class:"mb-4"},null,8,["modelValue","disabled","error"])),(0,t.createElementVNode)("div",m,[(0,t.createVNode)(g,{modelValue:r.form.shared_short_code_id,"onUpdate:modelValue":o[5]||(o[5]=function(e){return r.form.shared_short_code_id=e}),options:f.sharedShortCodeOptions,label:"Shared Short Code",placeholder:"Select a shared shortcode",disabled:r.form.processing,error:r.form.errors.shared_short_code_id,class:"w-60"},null,8,["modelValue","options","disabled","error"]),r.form.shared_code?((0,t.openBlock)(),(0,t.createBlock)(v,{key:0,class:"mt-4"},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)((0,t.toDisplayString)(r.form.shared_code),1)]})),_:1})):(0,t.createCommentVNode)("",!0)])],64)),"Update"==r.mode?((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,{key:2},[(0,t.createVNode)(g,{modelValue:r.form.active_version_id,"onUpdate:modelValue":o[6]||(o[6]=function(e){return r.form.active_version_id=e}),options:f.versionOptions,label:"Active version",placeholder:"Select a version",disabled:r.form.processing,error:r.form.errors.active_version_id,class:"mb-6"},null,8,["modelValue","options","disabled","error"]),(0,t.createVNode)(h,{modelValue:r.form.dedicated_code,"onUpdate:modelValue":o[7]||(o[7]=function(e){return r.form.dedicated_code=e}),label:"Dedicated Code",placeholder:"*123#",disabled:r.form.processing,error:r.form.errors.dedicated_code,class:"mb-6"},null,8,["modelValue","disabled","error"]),"The dedicated code is already used by another app. Do you want to reassign the shortcode?"==r.form.errors.dedicated_code?((0,t.openBlock)(),(0,t.createBlock)(V,{key:0,modelValue:r.form.overide_dedicated_code,"onUpdate:modelValue":o[8]||(o[8]=function(e){return r.form.overide_dedicated_code=e}),label:"Reassign dedicated code to this app",disabled:r.form.processing,error:r.form.errors.overide_dedicated_code,class:"mb-6"},null,8,["modelValue","disabled","error"])):(0,t.createCommentVNode)("",!0)],64)):(0,t.createCommentVNode)("",!0)],64)}]])},89542:(e,o,r)=>{r.r(o),r.d(o,{default:()=>u});var t=r(58222),a={class:"p-5 bg-white rounded-t-md shadow-md hover:shadow-lg"},n={class:"text-xl font-medium text-gray-900 border-b pb-5 mb-5"},l={class:"relative mb-5"},d={class:"flex justify-end"};var s=r(87879),i=r(71985),c=r(3350),m=r(48795);const p={components:{CreateOrUpdateAppForm:c.default,LoaderOverlay:i.Z,PrimaryButton:m.Z},props:{appPayload:Object},data:function(){return{form:(0,s.cI)({name:this.appPayload.name,online:this.appPayload.online,description:this.appPayload.description,offline_message:this.appPayload.offline_message,active_version_id:this.appPayload.active_version_id,shared_code:this.appPayload.short_code.shared_code,overide_dedicated_code:!1,dedicated_code:this.appPayload.short_code.dedicated_code,shared_short_code_id:this.appPayload.short_code.shared_short_code_id})}},methods:{saveChanges:function(){var e=this;this.form.clearErrors(),this.form.put(route("app.update",{project:this.route().params.project,app:this.route().params.app}),{preserveState:!0,preserveScroll:!0,onSuccess:function(){e.$message({message:"App updated successfully",type:"success"})},onError:function(o){e.$message({message:"Sorry, we found some mistakes",type:"error"})}})}}};const u=(0,r(83744).Z)(p,[["render",function(e,o,r,s,i,c){var m=(0,t.resolveComponent)("LoaderOverlay"),p=(0,t.resolveComponent)("CreateOrUpdateAppForm"),u=(0,t.resolveComponent)("PrimaryButton");return(0,t.openBlock)(),(0,t.createElementBlock)("div",a,[(0,t.createElementVNode)("h5",n,(0,t.toDisplayString)(i.form.name),1),(0,t.createElementVNode)("div",l,[(0,t.createVNode)(m,{show:i.form.processing},null,8,["show"]),(0,t.createVNode)(p,{form:i.form,mode:"Update"},null,8,["form"])]),(0,t.createElementVNode)("div",d,[(0,t.createVNode)(u,{disabled:i.form.processing,onClick:o[0]||(o[0]=function(e){return c.saveChanges()})},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)(" Save Changes ")]})),_:1},8,["disabled"])])])}]])}}]);