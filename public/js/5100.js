"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5100],{35100:(e,r,o)=>{o.r(r),o.d(r,{default:()=>S});var t=o(58222),l={key:0,class:"text-sm text-gray-500 mb-5"},a={class:"text-blue-500 font-bold"},n=(0,t.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,t.createElementVNode)("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),i=(0,t.createElementVNode)("span",null,"Create Variable",-1),u={key:1,name:"trigger",xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 cursor-pointer hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},s=[(0,t.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"},null,-1)],m={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 cursor-pointer hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},c=[(0,t.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},null,-1)];var d=o(96486),f=o.n(d),p=o(87879),b=o(66222),h=o(70225),v=o(91098),y=o(66434),V=o(60598),g=o(71362),k=o(53233),w=o(48795);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function B(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,t)}return o}function E(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?B(Object(o),!0).forEach((function(r){O(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function O(e,r,o){return(r=function(e){var r=function(e,r){if("object"!==C(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var t=o.call(e,r||"default");if("object"!==C(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===C(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}const x={components:{useForm:p.cI,DefaultInput:b.Z,DefaultModal:h.Z,CodeEditor:y.Z,DefaultSwitch:g.Z,DefaultSelect:k.Z,PrimaryButton:w.Z,VariableInput:V.Z},props:{variable:{type:Object,default:null},index:{type:Number,default:null},mode:{type:String,default:null,validator:function(e){return["create","clone","update"].includes(e)}}},data:function(){return{form:null,typeOptions:[{label:"String",value:"string"},{label:"Integer",value:"integer"},{label:"Boolean",value:"boolean"},{label:"Code",value:"code"},{label:"Null",value:"null"},{label:"Empty Array",value:"empty array"}],booleanOptions:[{label:"True",value:"true"},{label:"False",value:"false"}],useVersionBuilder:(0,v.P)()}},computed:{modeInCaps:function(){return this.mode.charAt(0).toUpperCase()+this.mode.slice(1)}},methods:{resetForm:function(){"create"==this.mode?this.form=(0,p.cI)((0,v.P)().getBlankGlobalVariable()):"clone"==this.mode?this.form=(0,p.cI)((0,v.P)().getClonedGlobalVariable(this.variable)):"update"==this.mode&&(this.form=(0,p.cI)(E(E({},(0,v.P)().getBlankGlobalVariable()),f().cloneDeep(this.variable))))},createVariable:function(e){var r=this.useVersionBuilder.searchGlobalVariables(this.form.name,!0).length;if(0==this.form.name.length?this.form.setError("name","The variable name is required"):this.form.name.length<3?this.form.setError("name","The variable name is too short"):this.form.name.length>50?this.form.setError("name","The variable name is too long"):(["create","clone"].includes(this.mode)&&r||"update"==this.mode&&r&&this.variable.name!==this.form.name)&&this.form.setError("name","This variable name is already in use"),"boolean"===this.form.type&&null==this.form.value.boolean?this.form.setError("value","The variable boolean is required"):"integer"===this.form.type&&null==this.form.value.integer?this.form.setError("value","The variable integer is required"):"code"===this.form.type&&null==this.form.value.code&&this.form.setError("value","The variable code is required"),!1===this.form.hasErrors){var o=this.form.data();"update"==this.mode?this.useVersionBuilder.updateGlobalVariable(o,this.index):this.useVersionBuilder.addGlobalVariable(o);var t=this.mode+"d";this.$message({message:"Variable "+t+" successfully",type:"success"}),e()}},cancelCreateVariable:function(){this.form.clearErrors()}}};const S=(0,o(83744).Z)(x,[["render",function(e,r,o,d,f,p){var b=(0,t.resolveComponent)("VariableInput"),h=(0,t.resolveComponent)("DefaultSelect"),v=(0,t.resolveComponent)("DefaultInput"),y=(0,t.resolveComponent)("CodeEditor"),V=(0,t.resolveComponent)("DefaultSwitch"),g=(0,t.resolveComponent)("PrimaryButton"),k=(0,t.resolveComponent)("DefaultModal");return(0,t.openBlock)(),(0,t.createBlock)(k,{defaultText:"Cancel",onOpen:r[10]||(r[10]=function(e){return p.resetForm()}),onClose:r[11]||(r[11]=function(r){return e.$emit("close")}),primaryAction:p.createVariable,primaryText:p.modeInCaps+" Variable",defaultAction:p.cancelCreateVariable},{title:(0,t.withCtx)((function(){return[(0,t.createTextVNode)((0,t.toDisplayString)(p.modeInCaps+" Variable"),1)]})),trigger:(0,t.withCtx)((function(){return["create"==o.mode?((0,t.openBlock)(),(0,t.createBlock)(g,{key:0,name:"trigger",class:"px-3"},{default:(0,t.withCtx)((function(){return[n,i]})),_:1})):"clone"==o.mode?((0,t.openBlock)(),(0,t.createElementBlock)("svg",u,s)):"update"==o.mode?((0,t.openBlock)(),(0,t.createElementBlock)("svg",m,c)):(0,t.createCommentVNode)("",!0)]})),default:(0,t.withCtx)((function(){return["clone"==o.mode?((0,t.openBlock)(),(0,t.createElementBlock)("p",l,[(0,t.createTextVNode)("Cloning "),(0,t.createElementVNode)("span",a,(0,t.toDisplayString)(o.variable.name),1),(0,t.createTextVNode)(" variable")])):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(b,{modelValue:f.form.name,"onUpdate:modelValue":r[0]||(r[0]=function(e){return f.form.name=e}),label:"Name",error:f.form.errors.name,onOnSetError:r[1]||(r[1]=function(e){return f.form.setError("name",e)}),onOnClearError:r[2]||(r[2]=function(e){return f.form.clearErrors("name")}),class:"mb-6"},null,8,["modelValue","error"]),(0,t.createVNode)(h,{modelValue:f.form.type,"onUpdate:modelValue":r[3]||(r[3]=function(e){return f.form.type=e}),options:f.typeOptions,label:"Select Type",placeholder:"Select the variable type",class:"mb-6"},null,8,["modelValue","options"]),"string"===f.form.type?((0,t.openBlock)(),(0,t.createBlock)(v,{key:1,modelValue:f.form.value.string,"onUpdate:modelValue":r[4]||(r[4]=function(e){return f.form.value.string=e}),label:"String",error:f.form.errors.value,class:"mb-6"},null,8,["modelValue","error"])):"integer"===f.form.type?((0,t.openBlock)(),(0,t.createBlock)(v,{key:2,type:"number",modelValue:f.form.value.integer,"onUpdate:modelValue":r[5]||(r[5]=function(e){return f.form.value.integer=e}),label:"Integer",error:f.form.errors.value,class:"mb-6"},null,8,["modelValue","error"])):"boolean"===f.form.type?((0,t.openBlock)(),(0,t.createBlock)(h,{key:3,modelValue:f.form.value.boolean,"onUpdate:modelValue":r[6]||(r[6]=function(e){return f.form.value.boolean=e}),options:f.booleanOptions,label:"Select Boolean",error:f.form.errors.value,placeholder:"Select boolean value",class:"mb-6"},null,8,["modelValue","options","error"])):"code"===f.form.type?((0,t.openBlock)(),(0,t.createBlock)(y,{key:4,modelValue:f.form.value.code,"onUpdate:modelValue":r[7]||(r[7]=function(e){return f.form.value.code=e}),error:f.form.errors.value,height:"300px",class:"mb-6"},null,8,["modelValue","error"])):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(V,{modelValue:f.form.is_constant,"onUpdate:modelValue":r[8]||(r[8]=function(e){return f.form.is_constant=e}),label:"Make Constant",info:"Once the value is evaluated and set, it cannot be modified or overridden during application runtime. This value can only be modified here as a global variable",class:"mb-6"},null,8,["modelValue"]),(0,t.createVNode)(V,{modelValue:f.form.is_global,"onUpdate:modelValue":r[9]||(r[9]=function(e){return f.form.is_global=e}),label:"Save for next session",info:"Once the value is evaluated and set, it will be preserved for the next session",class:"mb-6"},null,8,["modelValue"])]})),_:1},8,["primaryAction","primaryText","defaultAction"])}]])}}]);