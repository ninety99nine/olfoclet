"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[774],{10774:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var r=o(58222),s={class:"flex items-end justify-between mb-6"},n={class:"text-xl font-semibold text-gray-700 mb-2"},a={class:"text-sm text-gray-400"},i={class:"flex items-center space-x-2"},c={class:"flex items-center justify-between mb-12"},h=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),l=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1),u=(0,r.createElementVNode)("span",null,"Showing trashed versions",-1);var p=o(51084),d=o(90770),m=o(48795),w=o(52241),g=o(71362),v=o(49510);const V={props:["view"],components:{NumberBadge:p.Z,PrimaryAlert:d.Z,PrimaryButton:m.Z,DefaultButton:w.Z,DefaultSwitch:g.Z,DefaultSearchBar:v.Z},data:function(){return{isChangingRoute:!1,isShowingVersions:!1,isShowingTrashedVersions:!1,search:this.route().params.search,appPayload:this.$page.props.appPayload}},watch:{"$page.props":function(e,t){this.appPayload=this.$page.props.appPayload},"$page.url":function(e,t){this.setActiveRoutes()}},methods:{changeView:function(e){this.$emit("updateView",e)},startSearch:function(e){var t=this.isShowingVersions?"app.show.with.versions":"app.show.with.trashed.versions";this.$inertia.get(route(t,{project:this.route().params.project,app:this.route().params.app}),{search:e},{preserveScroll:!0,preserveState:!0,replace:!0})},setActiveRoutes:function(){this.isShowingVersions=this.checkIfShowingVersions(),this.isShowingTrashedVersions=this.checkIfShowingTrashedVersions()},checkIfShowingVersions:function(){return route().current("app.show.with.versions",{project:this.route().params.project,app:this.route().params.app})},checkIfShowingTrashedVersions:function(){return route().current("app.show.with.trashed.versions",{project:this.route().params.project,app:this.route().params.app})},toggleVersions:function(){this.isShowingTrashedVersions?this.showVersions():this.showTrashedVersions()},showVersions:function(){this.changeRoute(route("app.show.with.versions",{project:this.route().params.project,app:this.route().params.app}))},showTrashedVersions:function(){this.changeRoute(route("app.show.with.trashed.versions",{project:this.route().params.project,app:this.route().params.app}))},changeRoute:function(e){var t=this;this.isChangingRoute=!0,setTimeout((function(){t.$inertia.get(e,{},{preserveScroll:!0,replace:!0})}),150)}},created:function(){this.setActiveRoutes()}};const f=(0,o(83744).Z)(V,[["render",function(e,t,o,p,d,m){var w=(0,r.resolveComponent)("DefaultSwitch"),g=(0,r.resolveComponent)("NumberBadge"),v=(0,r.resolveComponent)("DefaultSearchBar"),V=(0,r.resolveComponent)("PrimaryAlert");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("h1",n,(0,r.toDisplayString)(d.isShowingVersions?"Versions":"Trashed Versions"),1),(0,r.createElementVNode)("h2",a,"Select a version to "+(0,r.toDisplayString)(d.isShowingVersions?"build":"restore"),1)]),(0,r.createElementVNode)("div",i,[(0,r.createVNode)(w,{value:d.isShowingTrashedVersions,onChange:t[0]||(t[0]=function(e){return m.toggleVersions()}),note:"Show trashed versions",disabled:d.isChangingRoute},null,8,["value","disabled"]),d.appPayload.trashed_versions_count?((0,r.openBlock)(),(0,r.createBlock)(g,{key:0,count:d.appPayload.trashed_versions_count},null,8,["count"])):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",null,[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)("grid"==o.view?"PrimaryButton":"DefaultButton"),{class:"rounded-r-none px-8",onClick:t[1]||(t[1]=function(e){return m.changeView("grid")})},{default:(0,r.withCtx)((function(){return[h,(0,r.createTextVNode)(" Grid ")]})),_:1})),((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)("table"==o.view?"PrimaryButton":"DefaultButton"),{class:"rounded-l-none px-8",onClick:t[2]||(t[2]=function(e){return m.changeView("table")})},{default:(0,r.withCtx)((function(){return[l,(0,r.createTextVNode)(" Table ")]})),_:1}))]),(0,r.createVNode)(v,{modelValue:d.search,"onUpdate:modelValue":t[3]||(t[3]=function(e){return d.search=e}),onOnSearch:m.startSearch,placeholder:"Search versions"},null,8,["modelValue","onOnSearch"])]),d.isShowingTrashedVersions?((0,r.openBlock)(),(0,r.createBlock)(V,{key:0,class:"mb-12"},{default:(0,r.withCtx)((function(){return[u]})),_:1})):(0,r.createCommentVNode)("",!0)])}]])}}]);