"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4997,8129,1203],{88272:(e,t,o)=>{function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}o.d(t,{Z:()=>s});const s={data:function(){var e,t,o;return{selectedProject:null!==(e=this.route().params.project)&&void 0!==e?e:"any",selectedVersion:null!==(t=this.route().params.version)&&void 0!==t?t:"any",selectedApp:null!==(o=this.route().params.app)&&void 0!==o?o:"any",projectOptions:[],versionOptions:[],appOptions:[]}},methods:{setProjectOptions:function(){this.projectOptions=this.$page.props.projectOptions?[{label:"Any",value:"any"}].concat(r(this.$page.props.projectOptions.map((function(e){return{label:e.name,value:e.id}})))):[]},setAppOptions:function(){var e=this,t=[{label:"Any",value:"any"}];(this.$page.props.projectOptions||[]).length?"any"!==this.selectedProject&&this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject})).apps.forEach((function(e){t.push({label:e.name,value:e.id})})):(this.$page.props.appOptions||[]).length&&this.$page.props.appOptions.forEach((function(e){t.push({label:e.name,value:e.id})}));this.appOptions=t},setVersionOptions:function(){var e=this,t=[{label:"Any",value:"any"}];if((this.$page.props.projectOptions||[]).length){if("any"!==this.selectedProject){var o=this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject}));if(o.apps.length)if("any"!==this.selectedApp)o.apps.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}}else if((this.$page.props.appOptions||[]).length){if("any"!==this.selectedApp)this.$page.props.appOptions.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}else{if(!(this.$page.props.versionOptions||[]).length)return[];this.$page.props.versionOptions.forEach((function(e){t.push({label:e.number,value:e.id})}))}this.versionOptions=t},onSelectProjectOption:function(){this.selectedApp="any",this.selectedVersion="any",this.setAppOptions(),this.refreshContent()},onSelectAppOption:function(){this.selectedVersion="any",this.setVersionOptions(),this.refreshContent()}},created:function(){this.setProjectOptions(),this.setVersionOptions(),this.setAppOptions()}}},88129:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var r=o(58222),n=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})],-1);const s={props:["disabled"],components:{DefaultButton:o(52241).Z},methods:{showVersions:function(){this.$inertia.get(route("app.show.with.versions",{project:this.route().params.project,app:this.route().params.app}))}}};const a=(0,o(83744).Z)(s,[["render",function(e,t,o,s,a,l){var i=(0,r.resolveComponent)("DefaultButton");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)(i,{class:"mb-4",onClick:t[0]||(t[0]=function(e){return l.showVersions()}),disabled:o.disabled},{default:(0,r.withCtx)((function(){return[n,(0,r.renderSlot)(e.$slots,"default",{},(function(){return[(0,r.createTextVNode)("Back")]}))]})),_:3},8,["disabled"])])}]])},11203:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var r=o(58222);var n=o(28667);const s={props:["report","showComparisons"],components:{VueHighcharts:o.n(n)()},data:function(){return{}},computed:{chartOptions:function(){var e=[{name:this.report.series_name,data:this.report.series_data["x-axis"],color:this.report.hasOwnProperty("series_color")?this.report.series_color:"#3f83f8"}];this.showComparisons&&this.report.hasOwnProperty("comparison_series_data")&&e.unshift({name:this.report.comparison_series_name,data:this.report.comparison_series_data["x-axis"],color:this.report.hasOwnProperty("comparison_series_color")?this.report.comparison_series_color:"#9ca3af"});var t=this.report.hasOwnProperty("title")?this.report.title:"",o=this.report.hasOwnProperty("subtitle")?this.report.subtitle:"";return{chart:{type:this.report.chart},title:{text:t,style:{color:"#3f83f8",fontSize:"1rem"}},subtitle:{text:o,style:{color:"#6b7280"}},series:e,xAxis:{categories:this.report.series_data["y-axis"]},yAxis:{title:{text:"Total"},allowDecimals:!1},plotOptions:{series:{marker:{radius:2}}}}}},methods:{onRender:function(){console.log("Chart rendered")}}};const a=(0,o(83744).Z)(s,[["render",function(e,t,o,n,s,a){var l=(0,r.resolveComponent)("vue-highcharts");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)(l,{type:"chart",options:a.chartOptions,redrawOnUpdate:!0,oneToOneUpdate:!1,animateOnUpdate:!0,onRendered:a.onRender},null,8,["options","onRendered"])])}]])},54997:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Q});var r=o(58222),n={class:"pt-8 px-16 mt-4 pb-52"},s={class:"flex justify-between"},a={class:"flex justify-between items-center my-4"},l={class:"flex space-x-2 bg-white text-xs text-gray-500 rounded-t-md border-b py-6 px-8 -mb-4"},i=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:0},c=(0,r.createElementVNode)("div",{class:"border-l border-gray-300"},null,-1),d={key:1},u={class:"flex space-x-8"},h={class:(0,r.normalizeClass)(["bg-white rounded-tr-md rounded-b-md shadow-md p-8 mb-4 relative overflow-hidden transition-all"])},m={key:0},v=[(0,r.createElementVNode)("span",{class:"font-semibold text-green-500"},"several projects",-1)],y={key:1},f={class:"font-semibold text-green-500"},w={key:2},g={class:"font-semibold text-green-500"},k={key:3},x={class:"font-semibold text-green-500"},b={class:"font-semibold text-green-500"},V={class:"grid grid-cols-4 gap-4"},C={key:0,class:"absolute top-2 right-2"},B=["innerHTML"],E={class:"text-blue-400 font-semibold text-xl"},N={class:"text-gray-400 text-xs"},O=(0,r.createElementVNode)("span",{class:"mx-2"},"/",-1),P={class:"flex justify-center text-xs border-t border-blue-200 border-dashed pt-4 mt-2"},_={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},j=[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7l4-4m0 0l4 4m-4-4v18"},null,-1)],S={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},T=[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 17l-4 4m0 0l-4-4m4 4V3"},null,-1)],A={class:"text-xs text-gray-400 mr-2"},$={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},D=[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)],R={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},L=[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)],M={key:0,class:"absolute top-4 right-4"},Z=["innerHTML"];var z=o(6154),H=o(88129),U=o(11203),q=o(47936),I=o(87879),F=o(88272),Y=o(11868),W=o(90770),G=o(53233),J=o(71362);const K={mixins:[F.Z],components:{Head:I.Fb,HighChart:U.default,SlideUpDown:q.Z,BackButton:H.default,PrimaryAlert:W.Z,InfoPopover:Y.Z,DefaultSelect:G.Z,DefaultSwitch:J.Z},data:function(){return{dateType:"Today",dateTypes:[{label:"Today"},{label:"Yesterday"},{label:"This Week"},{label:"This Month"},{label:"This Year"},{label:"Last 7 days"},{label:"Last 14 days"},{label:"Last 30 days"},{label:"Last 60 days"},{label:"Last 90 days"},{label:"Last Week"},{label:"Last Month"},{label:"Last Year"},{label:"2 years ago"},{label:"3 years ago"},{label:"Custom"}],chartStats:[],overviewStats:[],expandOverview:!0,showComparisons:!0,appPayload:this.$page.props.appPayload,versionPayload:this.$page.props.versionPayload,reportPayload:this.$page.props.reportPayload,request:null}},computed:{dateRangeText:function(){return this.reportPayload.aboutReport.date_range_text},dateRangeComparisonText:function(){return this.reportPayload.aboutReport.date_range_comparison_text}},methods:{setChartStats:function(){this.chartStats=this.reportPayload.accountReport.charts},setOverviewStats:function(){this.expandOverview?this.overviewStats=this.reportPayload.accountReport.overview:this.overviewStats=this.reportPayload.accountReport.overview.slice(0,4)},toggleExpandOverview:function(){this.expandOverview=!this.expandOverview,this.setOverviewStats()},refreshContent:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0!=t||!this.request){1==t&&(this.request&&this.request.cancel(),this.$emit("isLoading",!0));var o=z.Z.CancelToken.source();this.request={cancel:o.cancel};var r,n,s={cancelToken:o.token};if("any"!==this.selectedProject&&"any"!==this.selectedApp&&"any"!==this.selectedVersion)r=route("version.reports.show",{project:this.selectedProject,version:this.selectedVersion,app:this.selectedApp,page:null!==(n=this.route().params.page)&&void 0!==n?n:1,date_type:this.dateType});else if("any"!==this.selectedProject&&"any"!==this.selectedApp){var a;r=route("app.reports.show",{project:this.selectedProject,app:this.selectedApp,page:null!==(a=this.route().params.page)&&void 0!==a?a:1,date_type:this.dateType})}else if("any"!==this.selectedProject){var l;r=route("project.reports.show",{project:this.selectedProject,page:null!==(l=this.route().params.page)&&void 0!==l?l:1,date_type:this.dateType})}else{var i;r=route("reports.show",{page:null!==(i=this.route().params.page)&&void 0!==i?i:1,date_type:this.dateType})}z.Z.get(r,s).then((function(t){e.reportPayload=t.data.reportPayload,e.setChartStats(),e.setOverviewStats(),e.$emit("response",t.data),e.$emit("isLoading",!1),e.request=null}))}}},created:function(){this.setChartStats(),this.setOverviewStats()}};const Q=(0,o(83744).Z)(K,[["render",function(e,t,o,z,H,U){var q=(0,r.resolveComponent)("Head"),I=(0,r.resolveComponent)("BackButton"),F=(0,r.resolveComponent)("DefaultSwitch"),Y=(0,r.resolveComponent)("DefaultSelect"),W=(0,r.resolveComponent)("PrimaryAlert"),G=(0,r.resolveComponent)("InfoPopover"),J=(0,r.resolveComponent)("HighChart");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[H.appPayload&&H.versionPayload?((0,r.openBlock)(),(0,r.createBlock)(q,{key:0,title:H.appPayload.name+" - Version "+H.versionPayload.number+" Reports"},null,8,["title"])):H.appPayload?((0,r.openBlock)(),(0,r.createBlock)(q,{key:1,title:H.appPayload.name+" Reports"},null,8,["title"])):((0,r.openBlock)(),(0,r.createBlock)(q,{key:2,title:"Reports"})),(0,r.createElementVNode)("div",s,[(0,r.createVNode)(I,null,{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Versions")]})),_:1})]),(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",l,[i,U.dateRangeText?((0,r.openBlock)(),(0,r.createElementBlock)("span",p,"Showing "+(0,r.toDisplayString)(U.dateRangeText),1)):(0,r.createCommentVNode)("",!0),c,U.dateRangeComparisonText?((0,r.openBlock)(),(0,r.createElementBlock)("span",d,"Compared to "+(0,r.toDisplayString)(U.dateRangeComparisonText),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",u,[(0,r.createVNode)(F,{modelValue:H.showComparisons,"onUpdate:modelValue":t[0]||(t[0]=function(e){return H.showComparisons=e}),note:"Show comparisons"},null,8,["modelValue"]),(0,r.createVNode)(Y,{modelValue:H.dateType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return H.dateType=e}),options:H.dateTypes,onChange:t[2]||(t[2]=function(e){return U.refreshContent()}),class:"w-60"},null,8,["modelValue","options"])])]),(0,r.createElementVNode)("div",h,[(0,r.createVNode)(W,{class:"mb-8"},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)(" Showing reports of "),"reports.show"===e.route().current()?((0,r.openBlock)(),(0,r.createElementBlock)("span",m,v)):(0,r.createCommentVNode)("",!0),"project.reports.show"===e.route().current()?((0,r.openBlock)(),(0,r.createElementBlock)("span",y,[(0,r.createTextVNode)(" services running on the "),(0,r.createElementVNode)("span",f,(0,r.toDisplayString)(e.projectPayload.name),1),(0,r.createTextVNode)(" project ")])):(0,r.createCommentVNode)("",!0),"app.reports.show"===e.route().current()?((0,r.openBlock)(),(0,r.createElementBlock)("span",w,[(0,r.createTextVNode)(" services running on the "),(0,r.createElementVNode)("span",g,(0,r.toDisplayString)(H.appPayload.name),1),(0,r.createTextVNode)(" app ")])):(0,r.createCommentVNode)("",!0),"version.reports.show"===e.route().current()?((0,r.openBlock)(),(0,r.createElementBlock)("span",k,[(0,r.createTextVNode)(" services running on "),(0,r.createElementVNode)("span",x,(0,r.toDisplayString)(H.appPayload.name),1),(0,r.createTextVNode)(" version "),(0,r.createElementVNode)("span",b,(0,r.toDisplayString)(H.versionPayload.number),1)])):(0,r.createCommentVNode)("",!0)]})),_:1}),(0,r.createElementVNode)("div",V,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(H.overviewStats,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"col-span-1 relative text-center bg-blue-50 border border-blue-300 rounded-md pt-5 pb-3 hover:shadow-lg cursor-pointer"},[(0,r.createElementVNode)("h4",{class:(0,r.normalizeClass)(["text-blue-400 text-sm mb-2 whitespace-pre-wrap",e.hasOwnProperty("comparison_total")?"mb-2":"mb-6"])},(0,r.toDisplayString)(e.title),3),e.subtitle?((0,r.openBlock)(),(0,r.createElementBlock)("div",C,[(0,r.createVNode)(G,{class:"text-center"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("p",{class:"text-xs text-gray-600 break-normal",innerHTML:e.subtitle},null,8,B)]})),_:2},1024)])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("span",E,(0,r.toDisplayString)(e.total),1),e.hasOwnProperty("comparison_total")?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createElementVNode)("span",N,[O,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.comparison_total),1)]),(0,r.createElementVNode)("div",P,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["flex justify-center",{"text-green-500":e.show_positive_arrow,"text-red-500":e.show_negative_arrow,"text-blue-400":!e.show_positive_arrow&&!e.show_negative_arrow}])},[e.show_positive_arrow?((0,r.openBlock)(),(0,r.createElementBlock)("svg",_,j)):(0,r.createCommentVNode)("",!0),e.show_negative_arrow?((0,r.openBlock)(),(0,r.createElementBlock)("svg",S,T)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.comparison_percentage)+"%",1)],2)])],64)):(0,r.createCommentVNode)("",!0)])})),128))]),(0,r.createElementVNode)("div",{class:"flex items-center absolute top-8 right-8 cursor-pointer text-gray-400",onClick:t[3]||(t[3]=function(e){return U.toggleExpandOverview()})},[(0,r.createElementVNode)("span",A,"Click to "+(0,r.toDisplayString)(H.expandOverview?"minimize":"maximize")+" — ",1),H.expandOverview?((0,r.openBlock)(),(0,r.createElementBlock)("svg",$,D)):((0,r.openBlock)(),(0,r.createElementBlock)("svg",R,L))])]),((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"grid grid-cols-12 gap-4",key:H.showComparisons},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(H.chartStats,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:(0,r.normalizeClass)([e.hasOwnProperty("col_span")?e.col_span:"col-span-4","bg-white rounded-md shadow-md relative p-8 mb-4"])},[e.hasOwnProperty("description")?((0,r.openBlock)(),(0,r.createElementBlock)("div",M,[(0,r.createVNode)(G,{class:"text-center"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("p",{class:"text-xs text-gray-600 break-normal",innerHTML:e.description},null,8,Z)]})),_:2},1024)])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(J,{report:e,showComparisons:H.showComparisons},null,8,["report","showComparisons"])],2)})),128))]))])}]])}}]);