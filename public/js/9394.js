"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9394],{29394:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var n=t(58222),o={key:0,class:"text-sm text-gray-500 mb-5"},a={class:"text-blue-500 font-bold"},s={key:0,name:"trigger",xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},l=[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"},null,-1)],c=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1);var i=t(87879),u=t(66222),m=t(70225),h=t(91098),f=t(48795);const d={components:{useForm:i.cI,DefaultInput:u.Z,DefaultModal:m.Z,PrimaryButton:f.Z},props:{screen:{type:Object,default:null}},data:function(){return{form:null,useVersionBuilder:(0,h.P)()}},computed:{action:function(){return this.screen?"Clone":"Create"}},methods:{resetForm:function(){this.form=(0,i.cI)(this.screen?(0,h.P)().getClonedScreen(this.screen):(0,h.P)().getBlankScreen())},createScreen:function(e){this.form.clearErrors();var r=this.useVersionBuilder.searchScreens(this.form.name,!0).length;if(0==this.form.name.length)this.form.setError("name","The screen name is required");else if(this.form.name.length<3)this.form.setError("name","The screen name is too short");else if(this.form.name.length>50)this.form.setError("name","The screen name is too long");else if(r>0)this.form.setError("name","This screen name is already in use");else{var t=this.form.data();this.useVersionBuilder.addScreen(t),this.useVersionBuilder.selectScreen(t),this.$message({message:"Screen "+(this.screen?"cloned":"created")+" successfully",type:"success"}),e()}},cancelCreateScreen:function(){this.form.clearErrors()}}};const p=(0,t(83744).Z)(d,[["render",function(e,r,t,i,u,m){var h=(0,n.resolveComponent)("DefaultInput"),f=(0,n.resolveComponent)("PrimaryButton"),d=(0,n.resolveComponent)("DefaultModal");return(0,n.openBlock)(),(0,n.createBlock)(d,{defaultText:"Cancel",onOpen:r[1]||(r[1]=function(e){return m.resetForm()}),onClose:r[2]||(r[2]=function(r){return e.$emit("close")}),primaryAction:m.createScreen,primaryText:m.action+" Screen",defaultAction:m.cancelCreateScreen},{title:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(m.action+" Screen"),1)]})),default:(0,n.withCtx)((function(e){var s=e.firePrimaryAction;return[t.screen?((0,n.openBlock)(),(0,n.createElementBlock)("p",o,[(0,n.createTextVNode)("Cloning "),(0,n.createElementVNode)("span",a,(0,n.toDisplayString)(t.screen.name),1),(0,n.createTextVNode)(" screen")])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(h,{modelValue:u.form.name,"onUpdate:modelValue":r[0]||(r[0]=function(e){return u.form.name=e}),label:"Name",placeholder:"Home",error:u.form.errors.name,onKeyup:(0,n.withKeys)(s,["enter"]),autofocus:!0},null,8,["modelValue","error","onKeyup"])]})),trigger:(0,n.withCtx)((function(){return[t.screen?((0,n.openBlock)(),(0,n.createElementBlock)("svg",s,l)):((0,n.openBlock)(),(0,n.createBlock)(f,{key:1,name:"trigger",class:"px-3"},{default:(0,n.withCtx)((function(){return[c,(0,n.renderSlot)(e.$slots,"default")]})),_:3}))]})),_:3},8,["primaryAction","primaryText","defaultAction"])}]])}}]);